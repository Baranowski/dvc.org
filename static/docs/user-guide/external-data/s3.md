# External Data on S3 Compatible Storage

S3 Compatible Storage is a storage solution that allows access to and management
of the data it stores over an S3 compliant interface. Some providers of such a
storage are [Minio](https://min.io/),
[DigitalOcean Spaces](https://www.digitalocean.com/products/spaces/),
[IBM Cloud Object Storage](https://www.ibm.com/cloud/object-storage) etc.

## Remotes

We can create an S3 remote with `dvc remote add`, like this:

```dvc
$ dvc remote add s3remote s3://mybucket/path/to/dir
```

To communicate with it you must explicitly set the `endpointurl` in the
configuration with `dvc remote modify`:

```dvc
$ dvc remote modify s3remote \
      endpointurl https://object-storage.example.com
```

The configuration file `.dvc/config` should have a content like this:

```ini
['remote "s3storage"']
url = s3://mybucket/path/to/dir
endpointurl = https://object-storage.example.com
```

S3 remotes can also be configured entirely via environment variables:

```dvc
$ export AWS_ACCESS_KEY_ID="<my-access-key>"
$ export AWS_SECRET_ACCESS_KEY="<my-secret-key>"
$ dvc remote add s3remote "s3://bucket/myremote"
```

For more information about the variables DVC supports, please visit
[boto3 documentation](https://boto3.amazonaws.com/v1/documentation/api/latest/guide/configuration.html#environment-variable-configuration)

<details>

### Use S3 Compatible Storage as a DVC Storage

To use S3 Comtatible Storage as a DVC storage we should create a _default_
remote with the option `-d, --default`, like this:

```dvc
$ dvc remote add --default s3storage s3://mybucket/path/to/dir
Setting 's3storage' as a default remote.

$ dvc remote modify s3storage \
      endpointurl https://object-storage.example.com
```

The configuration file `.dvc/config` should have a content like this:

```ini
['remote "s3storage"']
url = s3://mybucket/path/to/dir
endpointurl = https://object-storage.example.com
[core]
remote = s3storage
```

</details>
